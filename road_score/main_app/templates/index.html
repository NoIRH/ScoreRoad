    <!DOCTYPE html>
<html>
<head>
    <title>Быстрый старт. Размещение интерактивной карты на странице</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!-- <script src="https://api-maps.yandex.ru/2.0/?apikey=801caa4c-40cc-48be-bcfd-f7f196abd4f3&lang=ru_RU"></script> -->
    <script src="https://api-maps.yandex.ru/2.1/?apikey=801caa4c-40cc-48be-bcfd-f7f196abd4f3&load=package.full&lang=ru-RU" type="text/javascript"></script>
    <!-- <script src="https://api-maps.yandex.ru/2.0-stable/?apikey=801caa4c-40cc-48be-bcfd-f7f196abd4f3&load=package.full&lang=ru-RU" type="text/javascript"></script> -->

    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        .my-div {
            width: 100%;
            height: 100%;
            background-color: lightblue;
        }
        </style>


    <div>
        <label for="start">Точка отправления:</label>
        <input type="text" id="start" placeholder="Введите адрес отправления">
        <label for="end">Точка прибытия:</label>
        <input type="text" id="end" placeholder="Введите адрес прибытия">
        <button id="routeButton">Построить маршрут</button>
    </div>
    <!-- <div id="myMap"></div> -->







<script>

ymaps.ready(init);

function init() {
    var myMap = new ymaps.Map ('myMap', {
        center: [55.75, 37.61],
        zoom: 10
    });


    var multiRoute;

            document.getElementById('routeButton').onclick = function() {
                // var startAddress = "Москва, Инновационный центр Сколково, Большой бульвар";
                var startAddress = document.getElementById('start').value;
                // var endAddress = "Красная площадь, Москва";
                var endAddress = document.getElementById('end').value;

                console.log(startAddress);
                console.log(endAddress);

                if (multiRoute) {
                    myMap.geoObjects.remove(multiRoute);
                }

                // Создаем геокодер для преобразования адресов в координаты
                var geocoder = ymaps.geocode;

                // Получаем координаты отправления
                geocoder(startAddress).then(function (res) {
                    var startCoords = res.geoObjects.get(0).geometry.getCoordinates();

                    // Получаем координаты прибытия
                    return geocoder(endAddress).then(function (res) {
                        var endCoords = res.geoObjects.get(0).geometry.getCoordinates();

                        console.log(startCoords);
                        console.log(endCoords);
                        // Создаем маршрут
                        multiRoute = new ymaps.multiRouter.MultiRoute({
                            referencePoints: [startCoords, endCoords],
                            params: {
                                results: 1
                            }
                        }, {
                            boundsAutoApply: true
                        });
                        // console.log(multiRoute.getViaPoints());
                        // Добавляем маршрут на карту
                        myMap.geoObjects.add(multiRoute);
                        
                        // // Получаем координаты всех точек маршрута
                        // var routeCoordinates = multiRoute.getCoordinates();
                        // console.log('Координаты всех точек маршрута:');
                        // routeCoordinates.forEach(function(coords) {
                        //     console.log(`Широта: ${coords[1]}, Долгота: ${coords[0]}`);
                        // });

                    });
                }).catch(function (error) {
                    alert('Не удалось найти указанные адреса. Пожалуйста, проверьте их.');
                });
            };

            
            // for (var i=0; i<multiRoute.getCoordinates;i++)
            // {
            //     console.log()
            // }













    // myMap.controls
        // .add('mapTools')       // стандартные кнопки
        // .add('typeSelector')   // переключатель типа карты
        // .add('zoomControl');   // изменение масштаба
    // var myPlacemark = new ymaps.Placemark([55.75, 37.61], { 
    //     iconContent: 'Москва', 
    //     balloonContent: 'Столица России' 
    // }, {
    //     preset: 'twirl#blueStretchyIcon'
    // });
    // myMap.geoObjects.add(myPlacemark);











    // var startPoint, endPoint;

    //         // Добавляем обработчики клика на карту
    //         myMap.events.add('click', function (e) {
    //             var coords = e.get('coords');
    //             console.log(coords);
    //             if (!startPoint) {
    //                 startPoint = coords;
    //                 myMap.geoObjects.add(new ymaps.Placemark(startPoint, {
    //                     balloonContent: 'Точка отправления'
    //                 }, {
    //                     preset: 'islands#icon',
    //                     iconColor: '#0095b6'
    //                 }));
    //             } else if (!endPoint) {
    //                 endPoint = coords;
    //                 myMap.geoObjects.add(new ymaps.Placemark(endPoint, {
    //                     balloonContent: 'Точка прибытия'
    //                 }, {
    //                     preset: 'islands#icon',
    //                     iconColor: '#ff0000'
    //                 }));

    //                 // Проложить маршрут
    //                 route();
    //             }
    //         });

    //         // Функция для построения маршрута
    //         function route() {
    //             if (startPoint && endPoint) {
    //                 // Загружаем модуль multiRouter
    //                 ymaps.modules.require(['multiRouter.MultiRoute'], function(MultiRoute) {
    //                     var multiRoute = new MultiRoute({
    //                         referencePoints: [startPoint, endPoint],
    //                         params: {
    //                             results: 1
    //                         }
    //                     }, {
    //                         boundsAutoApply: true
    //                     });

    //                     myMap.geoObjects.add(multiRoute);
    //                 });
    //             } else {
    //                 alert('Пожалуйста, выберите обе точки.');
    //             }
    //         }

 


    // Создание экземпляра маршрута.
//     var multiRoute = new ymaps.multiRouter.MultiRoute({   
//         // Точки маршрута.
//         // Обязательное поле. 
//         referencePoints: [
//             'Москва, метро Смоленская',
//             'Москва, метро Арбатская',
//             [55.734876, 37.59308], // улица Льва Толстого.
//         ]
//     }, {
//       // Автоматически устанавливать границы карты так,
//       // чтобы маршрут был виден целиком.
//       boundsAutoApply: true
// });
    // Добавление маршрута на карту.
    // myMap.geoObjects.add(multiRoute);
}



</script>

</head>
<body >
    <!-- <div id="map" style="width: 600px; height: 400px"></div> -->
    <div class="my-div" id="myMap">
        
    </div>
</body>
</html>